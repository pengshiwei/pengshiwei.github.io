---
layout:     post
title:      lock锁
date:       2020-03-15
author:     BY pengshiwei
header-img: img/post-bg-debug.png
catalog: true
tags:
    - JUC并发编程

---

# **锁**

**1、lock锁**

> synchronized 是传统方式下的锁。

在企业级编程中：

​       高内聚，低耦合

​	    “线程操作资源类，资源类是单独”。

```
package com.juc.demo;

//传递的synchronized: 同步方法 和同步代码块

/**
 * 线程操作资源类：
 * 1、新建资源类
 * 2、线程操作资源类
 */
public class Demo1 {
	public static void main(String[] args) {
		//1、新建资源类
		Ticked tk = new Ticked();
		//2、线程操作资源类
		new Thread(new Runnable() {
			@Override
			public void run() {
				for(int i=0;i<40;i++) {
					tk.sale();
				}
			}
		},"A").start();

		new Thread(new Runnable() {
			@Override
			public void run() {
				for(int i=0;i<40;i++) {
					tk.sale();
				}
			}
		},"B").start();

		new Thread(new Runnable() {
			@Override
			public void run() {
				for(int i=0;i<40;i++) {
					tk.sale();
				}
			}
		},"C").start();

	}
}

/**
 * 	单独的资源类： 属性和方法
 */
	class Ticked {
		private int cnt = 100;
		public synchronized void sale() {
			if(cnt>0) {
				System.out.println(Thread.currentThread().getName() + "还剩" + (cnt--) + "票");
			}
		}
	}
```

![image-20200316004329177](https://tva1.sinaimg.cn/large/00831rSTgy1gcv3aov59pj31b00hm77j.jpg)

> lock锁 

